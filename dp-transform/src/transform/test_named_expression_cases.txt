$ named expression cases
def dict_comp_fib():
    a, b = 1, 2
    fib = {(c := a): (a := b) + (b := a + c) - b for __ in range(6)}
    return fib


def genexp_scope_state():
    a = 1
    b = [1, 2, 3, 4]
    genexp = (c := i + a for i in b)
    has_c_before = "c" in locals()
    values = list(genexp)
    return has_c_before, values, c


def mangled_global_value():
    class Foo:
        def f(self_):
            global __x1
            __x1 = 0
            [_Foo__x1 := 1 for a in [2]]
            [__x1 := 2 for a in [3]]

    Foo().f()
    return _Foo__x1
=
def dict_comp_fib():
    _dp_tmp_1 = 1, 2
    try:
        _dp_tmp_2 = __dp__.unpack(_dp_tmp_1, (True, True))
        a = __dp__.getitem(_dp_tmp_2, 0)
        b = __dp__.getitem(_dp_tmp_2, 1)
    finally:
        _dp_tmp_2 = None
        _dp_tmp_1 = None
    if False:
        a = None
    if False:
        b = None
    if False:
        c = None

    def _dp_gen_3(_dp_iter_4):
        _dp_iter_5 = __dp__.iter(_dp_iter_4)
        try:
            while True:
                __ = __dp__.next(_dp_iter_5)
                _dp_tmp_6 = a$1
                c$1 = _dp_tmp_6
                _dp_tmp_7 = b$1
                a$1 = _dp_tmp_7
                _dp_tmp_8 = __dp__.add(a$1, c$1)
                b$1 = _dp_tmp_8
                yield _dp_tmp_6, __dp__.sub(__dp__.add(_dp_tmp_7, _dp_tmp_8), b$1)
        except:
            if __dp__.exception_matches(__dp__.current_exception(), StopIteration$0):
                pass
            else:
                raise
    _dp_gen_3 = __dp__.update_fn(_dp_gen_3, "dict_comp_fib.<locals>", "<genexpr>")
    fib = __dp__.dict(_dp_gen_3(__dp__.iter(range$0(6))))
    return fib
def genexp_scope_state():
    a = 1
    b = __dp__.list((1, 2, 3, 4))
    if False:
        c = None

    def _dp_gen_10(_dp_iter_11):
        _dp_iter_12 = __dp__.iter(_dp_iter_11)
        try:
            while True:
                i = __dp__.next(_dp_iter_12)
                _dp_tmp_13 = __dp__.add(i, a$1)
                c$1 = _dp_tmp_13
                yield _dp_tmp_13
        except:
            if __dp__.exception_matches(__dp__.current_exception(), StopIteration$0):
                pass
            else:
                raise
    _dp_gen_10 = __dp__.update_fn(_dp_gen_10, "genexp_scope_state.<locals>", "<genexpr>")
    genexp = _dp_gen_10(__dp__.iter(b))
    _dp_target_9 = __dp__.contains(locals$0(), "c")
    has_c_before = _dp_target_9
    values = list$0(genexp)
    return has_c_before, values, c
def mangled_global_value():

    def _dp_ns_Foo(_dp_class_ns):

        def _dp_lambda_22():
            return __name__$0
        _dp_lambda_22 = __dp__.update_fn(_dp_lambda_22, "mangled_global_value.<locals>", "<lambda>")
        __dp__.setattr(_dp_class_ns, "__module__", __dp__.class_lookup(_dp_class_ns, "__name__", _dp_lambda_22))
        __dp__.setattr(_dp_class_ns, "__qualname__", "mangled_global_value.<locals>.Foo")

        def f(self_):
            _Foo__x1$0 = 0

            def _dp_gen_14(_dp_iter_15):
                _dp_iter_16 = __dp__.iter(_dp_iter_15)
                try:
                    while True:
                        a = __dp__.next(_dp_iter_16)
                        _dp_tmp_17 = 1
                        _Foo__x1$0 = _dp_tmp_17
                        yield _dp_tmp_17
                except:
                    if __dp__.exception_matches(__dp__.current_exception(), StopIteration$0):
                        pass
                    else:
                        raise
            _dp_gen_14 = __dp__.update_fn(_dp_gen_14, "mangled_global_value.<locals>.Foo.f.<locals>", "<genexpr>")
            __dp__.list(_dp_gen_14(__dp__.iter(__dp__.list((2,)))))

            def _dp_gen_18(_dp_iter_19):
                _dp_iter_20 = __dp__.iter(_dp_iter_19)
                try:
                    while True:
                        a = __dp__.next(_dp_iter_20)
                        _dp_tmp_21 = 2
                        _Foo__x1$0 = _dp_tmp_21
                        yield _dp_tmp_21
                except:
                    if __dp__.exception_matches(__dp__.current_exception(), StopIteration$0):
                        pass
                    else:
                        raise
            _dp_gen_18 = __dp__.update_fn(_dp_gen_18, "mangled_global_value.<locals>.Foo.f.<locals>", "<genexpr>")
            __dp__.list(_dp_gen_18(__dp__.iter(__dp__.list((3,)))))

        def _dp_lambda_23():
            return f$0
        _dp_lambda_23 = __dp__.update_fn(_dp_lambda_23, "mangled_global_value.<locals>", "<lambda>")
        __dp__.setattr(_dp_class_ns, "f", __dp__.update_fn(__dp__.class_lookup(_dp_class_ns, "f", _dp_lambda_23), "mangled_global_value.<locals>.Foo", "<locals>"))
    Foo = __dp__.create_class("Foo", _dp_ns_Foo, (), None)
    getattr$0(Foo(), "f")()
    return _Foo__x1$0
