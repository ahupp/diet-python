$ async with nonawaitable aenter
from __future__ import annotations

import asyncio


class CM:
    async def __aenter__(self):
        return 1

    async def __aexit__(self, exc_type, exc, tb):
        return False


async def run():
    async with CM():
        return "body"


def get_error():
    try:
        asyncio.run(run())
    except TypeError as exc:
        return str(exc)
    return "no error"
=
asyncio = __dp__.import_("asyncio", __spec__)
def _dp_ns_CM(_dp_class_ns):

    def _dp_lambda_4():
        return __name__$0
    _dp_lambda_4 = __dp__.update_fn(_dp_lambda_4, None, "<lambda>")
    __dp__.setattr(_dp_class_ns, "__module__", __dp__.class_lookup(_dp_class_ns, "__name__", _dp_lambda_4))
    __dp__.setattr(_dp_class_ns, "__qualname__", "CM")

    async def __aenter__(self):
        return 1

    def _dp_lambda_5():
        return __aenter__$0
    _dp_lambda_5 = __dp__.update_fn(_dp_lambda_5, None, "<lambda>")
    __dp__.setattr(_dp_class_ns, "__aenter__", __dp__.update_fn(__dp__.class_lookup(_dp_class_ns, "__aenter__", _dp_lambda_5), "CM", "<locals>"))

    async def __aexit__(self, exc_type, exc, tb):
        return False

    def _dp_lambda_6():
        return __aexit__$0
    _dp_lambda_6 = __dp__.update_fn(_dp_lambda_6, None, "<lambda>")
    __dp__.setattr(_dp_class_ns, "__aexit__", __dp__.update_fn(__dp__.class_lookup(_dp_class_ns, "__aexit__", _dp_lambda_6), "CM", "<locals>"))
CM = __dp__.create_class("CM", _dp_ns_CM, (), None)
async def run():
    _dp_tmp_2 = await __dp__.with_aenter(CM$0())
    try:
        _dp_tmp_3 = __dp__.unpack(_dp_tmp_2, (True, True))
        _ = __dp__.getitem(_dp_tmp_3, 0)
        _dp_with_exit_1 = __dp__.getitem(_dp_tmp_3, 1)
    finally:
        _dp_tmp_3 = None
        _dp_tmp_2 = None
    try:
        return "body"
    except:
        await __dp__.with_aexit(_dp_with_exit_1, __dp__.exc_info())
    else:
        await __dp__.with_aexit(_dp_with_exit_1, None)
    finally:
        _dp_with_exit_1 = None
def get_error():
    try:
        asyncio$0.run(run$0())
    except:
        if __dp__.exception_matches(__dp__.current_exception(), TypeError$0):
            exc = __dp__.current_exception()
            try:
                return str$0(exc)
            finally:
                try:
                    del exc
                except:
                    if __dp__.exception_matches(__dp__.current_exception(), NameError$0):
                        pass
                    else:
                        raise
        else:
            raise
    return "no error"
