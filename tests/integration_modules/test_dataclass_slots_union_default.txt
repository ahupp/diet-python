$ desugars dataclass_slots_union_default

import dataclasses


@dataclasses.dataclass(slots=True)
class Example:
    label: str
    state: str | None = None
    count: int = 0


def build_example(**kwargs):
    return Example("label", **kwargs)
=
import __dp__
dataclasses = __dp__.import_("dataclasses", __spec__)
_dp_tmp_1 = dataclasses.dataclass(slots=True)
def _dp_ns_Example(_dp_class_ns):
    __dp__.setitem(_dp_class_ns, "state", None)
    __dp__.setitem(_dp_class_ns, "count", 0)
    __dp__.setitem(_dp_class_ns, "__module__", __name__)
    __dp__.setitem(_dp_class_ns, "__qualname__", "Example")
    _dp_class_annotations = _dp_class_ns.get("__annotations__")
    _dp_tmp_2 = __dp__.is_(_dp_class_annotations, None)
    if _dp_tmp_2:
        _dp_class_annotations = __dp__.dict()
    __dp__.setitem(_dp_class_ns, "__annotations__", _dp_class_annotations)
    __dp__.setitem(_dp_class_annotations, "label", str)
    __dp__.setitem(_dp_class_annotations, "state", __dp__.or_(str, None))
    __dp__.setitem(_dp_class_annotations, "count", int)
Example = __dp__.create_class("Example", _dp_ns_Example, (), None)
Example = _dp_tmp_1(Example)
del _dp_ns_Example
def build_example(**kwargs):
    return Example("label", **kwargs)
